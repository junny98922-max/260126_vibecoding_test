# 프로덕트 요구사항 정의서 (PRD)
## 볼드모트 죽이기 TRPG 게임

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| **문서 제목** | 볼드모트 죽이기 TRPG 게임 PRD |
| **영문 서비스명** | Shadow Lord Slayer TRPG |
| **작성일** | 2026년 1월 29일 |
| **대상 독자** | 소규모 인디 개발팀 |
| **문서 버전** | v1.0 |

---

## 목차

1. [제품 개요](#1-제품-개요)
2. [문제 정의 및 해결 방안](#2-문제-정의-및-해결-방안)
3. [목표 및 핵심 성과 지표 (KPI)](#3-목표-및-핵심-성과-지표-kpi)
4. [타겟 사용자 및 페르소나](#4-타겟-사용자-및-페르소나)
5. [사용자 시나리오 및 유저 플로우](#5-사용자-시나리오-및-유저-플로우)
6. [기능 요구사항](#6-기능-요구사항)
7. [비기능 요구사항](#7-비기능-요구사항)
8. [기술 스택 및 아키텍처](#8-기술-스택-및-아키텍처)
9. [데이터 구조 개념도](#9-데이터-구조-개념도)
10. [UI/UX 설계 방향](#10-uiux-설계-방향)
11. [제약사항 및 리스크](#11-제약사항-및-리스크)
12. [개발 우선순위 및 로드맵](#12-개발-우선순위-및-로드맵)
13. [성공 지표 및 측정 방법](#13-성공-지표-및-측정-방법)

---

## 1. 제품 개요

### 1.1 서비스 소개

**Shadow Lord Slayer TRPG**는 AI 챗봇이 게임 마스터(GM) 역할을 수행하는 텍스트 기반 1인용 롤플레잉 게임입니다. 사용자는 마법 학교 세계관의 여러 캐릭터 중 하나를 선택하여 분기형 스토리를 진행하며, 최종적으로 어둠의 군주를 물리치는 것을 목표로 합니다.

### 1.2 핵심 가치 제안

- **간편한 접근성**: 웹 브라우저만 있으면 언제 어디서나 플레이 가능
- **빠른 플레이 타임**: 한 회차당 약 10분 내외로 완결되는 짧고 밀도 있는 경험
- **AI 기반 동적 스토리텔링**: LLM을 활용한 자연스러운 대화형 GM
- **선택의 재미**: 사용자의 결정이 스탯, 인벤토리, 스토리 진행에 즉각 반영
- **지속성**: Supabase 기반 저장으로 언제든 중단/재개 가능

### 1.3 서비스 차별점

기존 TRPG 게임들은 복잡한 룰과 긴 플레이 타임으로 진입장벽이 높거나, 텍스트 어드벤처 게임들은 정적인 선택지만 제공하는 경우가 많습니다. 본 서비스는:

- **10분 완결형 구조**로 캐주얼 사용자도 부담 없이 즐길 수 있음
- **AI GM**을 통해 정해진 선택지를 넘어선 자유도 제공 (향후 확장)
- **판타지 세계관**에 친숙한 국내 사용자를 위한 한국어 우선 지원

---

## 2. 문제 정의 및 해결 방안

### 2.1 타겟 사용자가 겪는 문제점

| 문제점 | 상황 설명 |
|--------|-----------|
| **짧은 여가 시간 활용의 어려움** | 출퇴근 중, 점심시간 등 짧은 시간에 즐길 만한 몰입형 콘텐츠 부족 |
| **TRPG 진입장벽** | 기존 TRPG는 룰 학습, 파티 구성, 긴 세션 시간 등으로 혼자 즐기기 어려움 |
| **반복적인 모바일 게임 피로도** | 과금 압박, 반복 플레이 강요 등으로 인한 모바일 게임 피로감 |
| **판타지 세계관 콘텐츠 갈증** | 해리포터와 같은 마법 학교 세계관을 가볍게 체험할 수 있는 게임 부재 |

### 2.2 해결 방안

- **10분 완결형 게임 디자인**: 총 5~7개 스테이지로 구성된 짧은 스토리 아크
- **AI GM 시스템**: 별도 학습 없이 자연어로 상호작용하며 즉시 게임 시작 가능
- **무료 기반 모델**: 광고나 과금 없이 순수하게 스토리 경험에 집중
- **저장/불러오기 기능**: 언제든 중단하고 나중에 이어서 플레이 가능
- **오리지널 판타지 세계관**: 저작권 이슈 없이 친숙한 마법 학교 분위기 제공

---

## 3. 목표 및 핵심 성과 지표 (KPI)

### 3.1 비즈니스 목표

| 목표 | 설명 |
|------|------|
| **MVP 완성 및 개인 사용** | 2026년 3월 말까지 완전히 플레이 가능한 버전 개발 |
| **사용자 피드백 수집** | 초기 10명의 테스터로부터 정성적 피드백 확보 |
| **기술 검증** | AI GM + Supabase 조합의 안정성 및 비용 효율성 검증 |

### 3.2 핵심 성과 지표 (KPI)

| 지표 | 목표치 | 측정 방법 |
|------|--------|-----------|
| **게임 완료율** | 80% 이상 | 시작한 사용자 중 엔딩까지 도달한 비율 |
| **평균 플레이 타임** | 8~12분 | 게임 시작부터 엔딩까지 걸린 평균 시간 |
| **재플레이율** | 40% 이상 | 한 번 이상 다시 플레이한 사용자 비율 |
| **AI 응답 품질** | 4.0/5.0 이상 | 사용자 만족도 설문 (각 세션 종료 시) |
| **시스템 응답 시간** | 3초 이내 | AI 응답 생성 시간 (95th percentile) |

---

## 4. 타겟 사용자 및 페르소나

### 4.1 주요 타겟 사용자

- **1차 타겟**: 개발자 본인 (프로토타입 단계)
- **2차 타겟**: 20~35세 한국 개발자 및 판타지 애호가
- **확장 타겟**: 캐주얼 게임을 즐기는 국내 직장인 및 대학생

### 4.2 페르소나

#### 페르소나 1: 민준 (개발자 본인)

| 항목 | 내용 |
|------|------|
| **나이/직업** | 30세, 백엔드 개발자 |
| **배경** | 해리포터 시리즈 팬, TRPG에 관심 있지만 시간 부족 |
| **니즈** | 짧은 휴식 시간에 몰입할 수 있는 스토리 경험 |
| **기술 수준** | 웹 개발 능숙, AI 기술에 관심 많음 |
| **동기** | 업무 중 스트레스 해소, 간단한 재미 추구 |
| **좌절 포인트** | 기존 게임들은 너무 시간이 오래 걸리거나 과금 압박이 있음 |

#### 페르소나 2: 지은 (확장 타겟)

| 항목 | 내용 |
|------|------|
| **나이/직업** | 27세, 마케터 |
| **배경** | 판타지 소설 독자, 출퇴근 시간에 웹툰/게임 즐김 |
| **니즈** | 스마트폰으로 간편하게 즐길 수 있는 스토리 중심 콘텐츠 |
| **기술 수준** | 일반 사용자, 복잡한 UI 선호하지 않음 |
| **동기** | 출퇴근 지하철 30분 활용, 가벼운 스토리 소비 |
| **좌절 포인트** | 복잡한 조작, 강제 광고, 과금 유도 |

---

## 5. 사용자 시나리오 및 유저 플로우

### 5.1 핵심 사용자 시나리오

#### 시나리오 1: 첫 플레이 (신규 사용자)

1. 사용자가 웹사이트 접속
2. 이메일/소셜 로그인으로 간편 회원가입
3. "새 게임 시작" 버튼 클릭
4. 캐릭터 선택 화면에서 3~4개 아키타입 중 선택 (예: 용감한 전사형, 똑똑한 학자형, 교활한 책략가형, 자비로운 치유사형)
5. AI GM이 오프닝 스토리 소개 (약 30초 분량)
6. 첫 번째 스테이지 시작: GM이 상황 묘사 + 2~3개 선택지 제시
7. 사용자가 선택지 클릭 또는 자유 입력 (기본은 선택지)
8. AI가 결과 처리 및 스탯/인벤토리 업데이트 표시
9. 5~7개 스테이지 반복 (총 8~10분 소요)
10. 최종 보스 전투 → 승리/패배 엔딩
11. 결과 요약 화면 및 다시 하기/로비로 돌아가기 옵션

#### 시나리오 2: 재방문 사용자

1. 로그인 후 자동으로 저장된 게임 진행 상태 확인
2. "이어하기" 또는 "새 게임 시작" 선택
3. 이어하기 선택 시 마지막 스테이지부터 재개
4. 다른 선택을 해보며 다른 결말 탐색

### 5.2 유저 플로우 다이어그램

```
[웹사이트 접속]
    ↓
[로그인/회원가입]
    ↓
[메인 로비]
    ├─ [새 게임 시작] → [캐릭터 선택] → [게임 세션 시작]
    ├─ [이어하기] → [저장된 게임 불러오기] → [게임 세션 재개]
    └─ [내 기록 보기] → [과거 플레이 통계]
         ↓
    [게임 세션]
         ├─ 스테이지 1 (오프닝)
         ├─ 스테이지 2~3 (초반 모험)
         ├─ 스테이지 4~5 (중반 선택의 갈림길)
         ├─ 스테이지 6 (클라이맥스 준비)
         └─ 스테이지 7 (최종 보스 전투)
              ↓
         [엔딩 화면]
              ├─ [다시 하기]
              └─ [로비로]
```

---

## 6. 기능 요구사항

### 6.1 필수 기능 (MVP)

#### 6.1.1 사용자 인증 및 계정 관리

- **회원가입/로그인**
  - 이메일/비밀번호 기반 인증
  - 소셜 로그인 (구글, 카카오) 지원
  - 자동 로그인 유지 (세션 관리)
- **계정 정보 관리**
  - 비밀번호 변경
  - 계정 삭제 (게임 데이터 함께 삭제)

#### 6.1.2 캐릭터 선택 시스템

- **캐릭터 아키타입**
  - 총 4종의 사전 정의된 캐릭터 제공
  - 각 캐릭터는 고유한 초기 스탯과 특성을 가짐
    - 용감한 전사: HP +10, 공격력 +2, 방어력 +1
    - 영리한 학자: 지능 +3, 마나 +10, 문제해결 보너스
    - 교활한 책략가: 민첩 +2, 회피율 +10%, 협상 보너스
    - 자비로운 치유사: HP +5, 회복력 +2, 동료 호감도 보너스
- **캐릭터 정보 표시**
  - 캐릭터 이름, 설명, 초기 스탯 시각화
  - 선택 시 미리보기 기능

#### 6.1.3 AI 게임 마스터 (GM) 시스템

- **스토리 진행 관리**
  - 현재 스테이지에 맞는 시나리오 텍스트 생성
  - 사용자 선택에 따른 분기 스토리 전개
  - 각 스테이지당 200~300자 내외의 간결한 묘사
- **선택지 제공**
  - 각 스테이지마다 2~3개의 선택지 제시
  - 선택지는 명확하고 직관적으로 표현
  - 선택 결과는 즉시 반영 (스탯, 인벤토리, 스토리 플래그)
- **자유 입력 지원 (선택적)**
  - 고급 사용자를 위한 텍스트 입력창
  - AI가 자연어를 해석하여 적절한 결과 생성
  - 부적절한 입력에 대한 안전장치 (필터링)
- **전투/이벤트 해결**
  - 간단한 주사위 롤 시뮬레이션 (스탯 기반)
  - 성공/실패 여부를 자연스럽게 스토리에 통합

#### 6.1.4 스테이지 기반 진행 시스템

- **스테이지 구조** (총 7개 스테이지, 10분 완결 목표)
  - **스테이지 1**: 오프닝 (학교 입학, 배경 소개) - 약 1분
  - **스테이지 2**: 첫 번째 시련 (간단한 퀘스트) - 약 1.5분
  - **스테이지 3**: 선택의 갈림길 (동료/아이템 획득) - 약 1.5분
  - **스테이지 4**: 위기 상황 (중간 보스 또는 함정) - 약 2분
  - **스테이지 5**: 준비 단계 (최종 전투 준비) - 약 1.5분
  - **스테이지 6**: 클라이맥스 (최종 보스 등장) - 약 1.5분
  - **스테이지 7**: 결말 (승리/패배 엔딩) - 약 1분
- **진행 상태 표시**
  - 현재 스테이지 번호 및 진행률 바
  - 다음 스테이지로 자동 전환

#### 6.1.5 캐릭터 스탯 및 인벤토리 관리

- **스탯 시스템**
  - HP (체력), MP (마나), 공격력, 방어력, 지능, 민첩
  - 선택에 따라 동적으로 증감
  - 실시간으로 UI에 반영
- **인벤토리 시스템**
  - 획득한 아이템 목록 (최대 10개)
  - 아이템 이름, 설명, 효과
  - 특정 스테이지에서 아이템 사용 가능
- **상태 이상 관리**
  - 중독, 저주 등 일시적 효과 (선택적)

#### 6.1.6 저장 및 불러오기 기능

- **자동 저장**
  - 각 스테이지 완료 시 자동으로 Supabase에 저장
  - 저장 내용: 캐릭터 ID, 현재 스테이지, 스탯, 인벤토리, 스토리 플래그
- **수동 저장**
  - 사용자가 "저장하기" 버튼 클릭 시 즉시 저장
- **불러오기**
  - 로그인 시 자동으로 마지막 세션 불러오기
  - "이어하기" 버튼으로 중단 지점부터 재개

#### 6.1.7 엔딩 시스템

- **다중 엔딩**
  - 승리 엔딩: 최종 보스 격파
  - 패배 엔딩: HP 0 또는 중요 선택 실패
  - 특수 엔딩: 특정 조건 충족 시 (선택적, 향후 확장)
- **결과 요약**
  - 플레이 타임, 주요 선택 요약, 획득 아이템
  - 엔딩 텍스트 및 일러스트 (간단한 이미지)

### 6.2 부가 기능 (향후 확장)

- **업적 시스템**: 특정 조건 달성 시 배지 부여
- **리더보드**: 최단 시간 클리어, 최고 스탯 등
- **커뮤니티 기능**: 플레이 후기 공유, 추천 빌드
- **관리자 대시보드**: GM 프롬프트 조정, 스토리 템플릿 관리
- **다국어 지원**: 영어, 일본어 등

---

## 7. 비기능 요구사항

### 7.1 성능 요구사항

| 항목 | 요구사항 |
|------|----------|
| **응답 시간** | AI GM 응답 생성 시간 3초 이내 (95th percentile) |
| **페이지 로드** | 초기 로딩 2초 이내, 스테이지 전환 1초 이내 |
| **동시 사용자** | 최소 50명 동시 접속 지원 (향후 확장 고려) |
| **데이터베이스 쿼리** | 단일 쿼리 응답 시간 500ms 이내 |

### 7.2 보안 요구사항

- **인증 및 권한**
  - JWT 기반 토큰 인증
  - HTTPS 통신 필수
  - 비밀번호 해싱 (bcrypt)
- **데이터 보호**
  - Supabase Row Level Security (RLS) 활성화
  - 사용자는 본인 데이터만 접근 가능
- **AI 안전성**
  - LLM API 호출 시 콘텐츠 필터링
  - 유해 콘텐츠 생성 방지 (OpenAI Moderation API 활용)
  - 사용자 입력에 대한 프롬프트 인젝션 방어

### 7.3 사용성 요구사항

- **반응형 디자인**: 데스크톱 우선, 모바일 브라우저에서도 사용 가능
- **접근성**: WCAG 2.1 AA 수준 준수 (키보드 네비게이션, 스크린 리더 지원)
- **다국어 기초**: 한국어 우선, UI는 영어 전환 가능하도록 구조 설계

### 7.4 유지보수성 요구사항

- **코드 품질**: ESLint, Prettier 적용, 코드 리뷰 프로세스
- **문서화**: README, API 명세, 컴포넌트 문서
- **모니터링**: Sentry 또는 LogRocket으로 에러 추적
- **버전 관리**: Git 기반, 명확한 커밋 메시지 규칙

### 7.5 확장성 요구사항

- **모듈화**: AI GM 로직과 프론트엔드 분리
- **API 구조**: RESTful API 또는 Supabase RPC 활용
- **캐싱 전략**: AI 응답 캐싱으로 비용 절감 (동일 선택지 재사용)

---

## 8. 기술 스택 및 아키텍처

### 8.1 기술 스택

#### 프론트엔드

| 기술 | 용도 | 선정 이유 |
|------|------|-----------|
| **React 18+** | UI 프레임워크 | 컴포넌트 기반 개발, 풍부한 생태계 |
| **TypeScript** | 언어 | 타입 안정성, 유지보수성 향상 |
| **Vite** | 빌드 도구 | 빠른 개발 서버, 최신 ES 모듈 지원 |
| **Tailwind CSS** | 스타일링 | 빠른 UI 프로토타이핑, 일관된 디자인 |
| **Zustand 또는 React Context** | 상태 관리 | 단순한 전역 상태 관리 (캐릭터, 게임 진행) |
| **React Router** | 라우팅 | SPA 라우팅 관리 |

#### 백엔드

| 기술 | 용도 | 선정 이유 |
|------|------|-----------|
| **Supabase** | BaaS (Backend as a Service) | PostgreSQL, 인증, 실시간 기능 통합 |
| **Supabase Auth** | 사용자 인증 | 이메일/소셜 로그인 기본 지원 |
| **Supabase Database** | 데이터 저장소 | PostgreSQL 기반, RLS로 보안 강화 |
| **Supabase Edge Functions** | 서버리스 함수 | AI API 호출 로직 서버사이드 처리 |

#### AI 및 외부 서비스

| 기술 | 용도 | 선정 이유 |
|------|------|-----------|
| **OpenAI GPT-4o-mini** | AI GM 엔진 | 비용 효율적, 빠른 응답 속도 |
| **OpenAI Moderation API** | 콘텐츠 필터링 | 유해 콘텐츠 차단 |

#### 배포 및 모니터링

| 기술 | 용도 | 선정 이유 |
|------|------|-----------|
| **Vercel 또는 Netlify** | 프론트엔드 호스팅 | 자동 배포, CDN, 무료 SSL |
| **Supabase Cloud** | 백엔드 호스팅 | 매니지드 서비스, 간편한 확장 |
| **Sentry** | 에러 모니터링 | 실시간 에러 추적 및 알림 |

### 8.2 시스템 아키텍처

```
[사용자 브라우저]
    ↓ HTTPS
[Vercel/Netlify - React SPA]
    ↓ ↑
    ├─ Supabase Auth (로그인/회원가입)
    ├─ Supabase Database (캐릭터, 진행 상태 저장)
    └─ Supabase Edge Functions
         ↓
    [OpenAI API]
         ├─ GPT-4o-mini (GM 응답 생성)
         └─ Moderation API (콘텐츠 필터링)
```

### 8.3 데이터 흐름

1. **사용자 로그인**
   - React → Supabase Auth → JWT 토큰 발급
2. **게임 시작**
   - React → Supabase Database: 캐릭터 선택 저장
3. **AI GM 상호작용**
   - React → Supabase Edge Function → OpenAI API
   - OpenAI 응답 → Edge Function에서 파싱 및 가공 → React
4. **스탯/인벤토리 업데이트**
   - React → Supabase Database: 실시간 업데이트
5. **저장/불러오기**
   - React ↔ Supabase Database: 게임 상태 CRUD

---

## 9. 데이터 구조 개념도

### 9.1 주요 데이터 엔티티

#### Users (사용자)
- `user_id` (PK, UUID): Supabase Auth에서 자동 생성
- `email` (string): 사용자 이메일
- `created_at` (timestamp): 가입 일시
- `last_login` (timestamp): 마지막 로그인

#### Characters (캐릭터 템플릿)
- `character_id` (PK, int): 캐릭터 아키타입 ID
- `name` (string): 캐릭터 이름 (예: "용감한 전사")
- `description` (text): 캐릭터 설명
- `initial_stats` (JSON): 초기 스탯 {hp, mp, attack, defense, intelligence, agility}
- `special_ability` (string): 특수 능력 설명

#### GameSessions (게임 세션)
- `session_id` (PK, UUID): 세션 고유 ID
- `user_id` (FK, UUID): 사용자 참조
- `character_id` (FK, int): 선택한 캐릭터
- `current_stage` (int): 현재 스테이지 번호 (1~7)
- `current_stats` (JSON): 현재 스탯
- `inventory` (JSON): 인벤토리 아이템 배열
- `story_flags` (JSON): 스토리 진행 플래그 (선택 기록 등)
- `is_completed` (boolean): 게임 완료 여부
- `ending_type` (string, nullable): 엔딩 타입 (victory, defeat, special 등)
- `started_at` (timestamp): 게임 시작 시각
- `updated_at` (timestamp): 마지막 업데이트 시각
- `completed_at` (timestamp, nullable): 게임 종료 시각

#### StoryLogs (스토리 로그, 선택적)
- `log_id` (PK, UUID): 로그 ID
- `session_id` (FK, UUID): 세션 참조
- `stage_number` (int): 스테이지 번호
- `gm_message` (text): AI GM 메시지
- `user_choice` (text): 사용자 선택
- `timestamp` (timestamp): 기록 시각

### 9.2 데이터 관계

- **Users 1:N GameSessions**: 한 사용자가 여러 게임 세션 보유 가능
- **Characters 1:N GameSessions**: 각 캐릭터 아키타입이 여러 세션에서 사용됨
- **GameSessions 1:N StoryLogs**: 각 세션은 여러 스토리 로그를 가짐

### 9.3 Supabase Row Level Security (RLS) 정책

- **Users**: 본인만 읽기/쓰기 가능
- **GameSessions**: 본인 세션만 읽기/쓰기 가능
- **Characters**: 모든 사용자 읽기 가능, 쓰기는 관리자만
- **StoryLogs**: 본인 세션 로그만 읽기 가능

---

## 10. UI/UX 설계 방향

### 10.1 디자인 철학

- **미니멀리즘**: 텍스트 중심, 불필요한 장식 최소화
- **판타지 분위기**: 어두운 배경 + 금색/보라색 포인트 컬러
- **직관적 네비게이션**: 명확한 버튼, 현재 상태 항상 표시
- **몰입감**: 전체 화면 모드 지원, 배경 이미지/음악 (선택적)

### 10.2 주요 화면 구성

#### 10.2.1 로그인/회원가입 화면

- 중앙 정렬된 로그인 폼
- 이메일/비밀번호 입력 + 소셜 로그인 버튼
- 게임 타이틀 로고 및 간단한 설명

#### 10.2.2 메인 로비 화면

- 상단: 사용자 프로필, 로그아웃 버튼
- 중앙:
  - "새 게임 시작" 버튼 (큰 크기, 강조)
  - "이어하기" 버튼 (저장된 게임이 있을 경우 활성화)
  - "내 기록 보기" 버튼 (플레이 통계)
- 하단: 설정, 도움말 링크

#### 10.2.3 캐릭터 선택 화면

- 4개 캐릭터 카드를 가로 나열 (데스크톱) 또는 세로 나열 (모바일)
- 각 카드:
  - 캐릭터 일러스트 (간단한 아이콘 또는 AI 생성 이미지)
  - 이름 및 한 줄 설명
  - 초기 스탯 표시
- 선택 시 "시작하기" 버튼 활성화

**샘플 이미지 컨셉**: 
- 배경: 어두운 성벽 또는 마법 서재
- 카드 스타일: 고딕 느낌의 테두리, 금색 강조
- 폰트: 세리프 계열 (판타지 느낌)

#### 10.2.4 게임 플레이 화면

**레이아웃**:
- **왼쪽 사이드바** (25% 너비):
  - 캐릭터 아바타
  - 현재 스탯 (HP, MP 등) - 게이지 바
  - 인벤토리 아이템 목록 (접이식)
- **중앙 메인 영역** (50% 너비):
  - AI GM 메시지 텍스트 (스크롤 가능)
  - 사용자 선택지 버튼 (2~3개)
  - 자유 입력 텍스트 박스 (선택적)
- **오른쪽 사이드바** (25% 너비):
  - 현재 스테이지 진행률 바
  - 퀵 액션: 저장, 메뉴, 도움말

**모바일 대응**:
- 세로 스크롤 구조로 전환
- 사이드바는 상단/하단으로 재배치
- 중요 정보만 항상 표시, 나머지는 탭/접기

**샘플 이미지 컨셉**:
- 중앙 텍스트 영역: 양피지 느낌의 배경
- 선택지 버튼: 돌 또는 나무 질감, 호버 시 빛나는 효과
- 스탯 게이지: 마법진 스타일

#### 10.2.5 엔딩 화면

- 중앙: 엔딩 타입 (승리/패배/특수)
- 엔딩 텍스트 (AI 생성 또는 템플릿)
- 플레이 통계: 플레이 타임, 주요 선택, 획득 아이템
- 하단 버튼:
  - "다시 하기" (새 캐릭터 선택으로)
  - "로비로 돌아가기"

### 10.3 UI 컴포넌트 라이브러리

- **기본**: Tailwind CSS 유틸리티 클래스
- **아이콘**: Heroicons 또는 FontAwesome
- **애니메이션**: Framer Motion (선택적, 텍스트 페이드인 등)

---

## 11. 제약사항 및 리스크

### 11.1 제약사항

| 제약사항 | 설명 | 대응 방안 |
|----------|------|-----------|
| **10분 완결 제약** | 전체 게임이 10분 이내 완료되어야 함 | 스테이지당 평균 1~2분 소요, 총 7개 스테이지로 설계. AI 응답 길이 제한 (200~300자). 선택지를 2~3개로 제한하여 고민 시간 단축. |
| **AI 비용** | OpenAI API 사용량에 따라 비용 증가 | 초기 사용자 제한 (베타 테스터 10명), 응답 캐싱, GPT-4o-mini 모델 사용으로 비용 절감 (토큰당 약 $0.00015). 평균 게임당 예상 토큰: 5,000토큰 = 약 $0.75. |
| **저작권 이슈** | 해리포터 세계관 직접 사용 불가 | 오리지널 판타지 세계관 구축. 캐릭터, 장소, 스토리 모두 독창적으로 제작. 법무 검토 권장. |
| **단일 개발자** | 리소스 제한, 개발 속도 제약 | MVP 기능 우선 개발, 부가 기능은 v2로 연기. 오픈소스 라이브러리 적극 활용. |
| **모바일 최적화** | 데스크톱 우선이지만 모바일도 지원 필요 | 반응형 디자인 필수, 터치 인터페이스 고려, 텍스트 크기 조정. |

### 11.2 주요 리스크 및 완화 전략

| 리스크 | 영향도 | 발생 가능성 | 완화 전략 |
|--------|--------|-------------|-----------|
| **AI 응답 품질 저하** | 높음 | 중간 | 프롬프트 엔지니어링 강화, 다양한 테스트 케이스 준비, fallback 시나리오 (미리 작성된 텍스트) |
| **AI 응답 속도 지연** | 중간 | 중간 | 로딩 인디케이터 표시, 타임아웃 설정 (5초), 실패 시 재시도 로직 |
| **사용자 이탈** | 중간 | 높음 | 튜토리얼 강화, 초반 스테이지를 흥미롭게 구성, 저장 기능으로 언제든 재개 가능 |
| **데이터 유실** | 높음 | 낮음 | Supabase 자동 백업, 정기적 데이터 스냅샷, RLS로 무단 접근 차단 |
| **보안 취약점** | 높음 | 낮음 | HTTPS 필수, JWT 토큰 관리, 정기 보안 감사, 의존성 업데이트 |
| **예산 초과 (API 비용)** | 중간 | 중간 | 사용량 모니터링 대시보드 구축, 월 예산 상한 설정, 캐싱 전략 |

### 11.3 10분 완결 제약의 구체적 영향

#### 스토리 구조

- **스테이지당 시간 할당**:
  - 오프닝: 1분 (배경 소개, 캐릭터 설정)
  - 초반 스테이지 (2~3): 각 1.5분 (간단한 이벤트, 빠른 선택)
  - 중반 스테이지 (4~5): 각 2분 (핵심 갈등, 중요 선택)
  - 클라이맥스 (6~7): 각 1.5분 (최종 전투, 결말)
- **AI 응답 제한**: 각 GM 메시지는 200~300자 (약 30초 읽기 시간)
- **선택지 단순화**: 복잡한 분기보다는 2~3개의 명확한 선택으로 플레이어 고민 시간 단축

#### 게임플레이 영향

- **전투 간소화**: 복잡한 턴제 전투 대신 단일 선택 + 주사위 롤로 결과 즉시 결정
- **인벤토리 제한**: 최대 10개 아이템으로 관리 부담 감소
- **스탯 시스템 단순화**: 6개 스탯만 관리, 레벨업 개념 제거

#### 사용자 경험 영향

- **짧은 휴식 시간 최적화**: 점심시간, 출퇴근 시간에 완전한 스토리 경험 가능
- **재플레이 유도**: 짧기 때문에 다른 선택을 시도해보고 싶은 동기 부여
- **완료율 향상**: 긴 게임에 비해 중도 이탈 가능성 낮음

---

## 12. 개발 우선순위 및 로드맵

### 12.1 개발 단계

#### Phase 1: MVP 개발 (8주)

**Week 1-2: 기반 구축**
- Supabase 프로젝트 생성 및 데이터베이스 스키마 설계
- React 프로젝트 초기 설정 (Vite, TypeScript, Tailwind)
- 인증 시스템 구현 (Supabase Auth 연동)
- 기본 라우팅 및 레이아웃 구성

**Week 3-4: 핵심 게임 로직**
- 캐릭터 선택 화면 구현
- AI GM 시스템 프로토타입 (OpenAI API 연동)
- 스테이지 진행 시스템 기본 구조
- 스탯 및 인벤토리 상태 관리

**Week 5-6: 스토리 및 콘텐츠**
- 7개 스테이지 시나리오 작성 (초안)
- AI 프롬프트 엔지니어링 (각 스테이지별 템플릿)
- 선택지 및 분기 로직 구현
- 전투/이벤트 해결 메커니즘

**Week 7-8: 통합 및 테스트**
- 저장/불러오기 기능 완성
- 엔딩 시스템 구현
- 전체 플레이 테스트 및 버그 수정
- 10분 완결 목표 검증 및 밸런싱

#### Phase 2: 베타 테스트 및 개선 (4주)

**Week 9-10: 베타 테스트**
- 10명의 테스터 모집 및 플레이 테스트
- 피드백 수집 (설문, 인터뷰)
- 사용성 개선 사항 도출

**Week 11-12: 개선 및 최적화**
- UI/UX 개선 (테스터 피드백 반영)
- AI 응답 품질 향상 (프롬프트 튜닝)
- 성능 최적화 (로딩 속도, AI 응답 시간)
- 모바일 반응형 디자인 보완

#### Phase 3: 정식 출시 및 운영 (지속)

**Week 13+**
- 정식 버전 배포 (Vercel/Netlify)
- 모니터링 및 로그 분석
- 사용자 피드백 기반 지속 개선
- 추가 스토리 라인 개발 (선택적)

### 12.2 기능 우선순위

| 우선순위 | 기능 | 이유 |
|----------|------|------|
| **P0 (필수)** | 인증, 캐릭터 선택, AI GM, 스테이지 진행, 저장/불러오기 | MVP 핵심 기능 |
| **P1 (중요)** | 엔딩 시스템, 스탯/인벤토리 UI, 모바일 대응 | 완성도 높은 경험 제공 |
| **P2 (추가)** | 업적 시스템, 플레이 통계, 배경 음악/효과음 | 재플레이 동기 부여 |
| **P3 (향후)** | 리더보드, 커뮤니티 기능, 관리자 대시보드 | 확장 기능 |

---

## 13. 성공 지표 및 측정 방법

### 13.1 정량적 지표

| 지표 | 측정 방법 | 목표 |
|------|-----------|------|
| **DAU (일일 활성 사용자)** | Supabase 로그인 데이터 분석 | 베타 기간 평균 5명 이상 |
| **게임 완료율** | 엔딩 도달 사용자 / 게임 시작 사용자 | 80% 이상 |
| **평균 플레이 타임** | `completed_at - started_at` 평균 | 8~12분 |
| **재플레이율** | 2회 이상 플레이한 사용자 / 전체 사용자 | 40% 이상 |
| **AI 응답 시간** | OpenAI API 호출 시간 로깅 | 95th percentile 3초 이내 |
| **에러율** | Sentry 에러 발생 건수 / 총 세션 수 | 5% 미만 |

### 13.2 정성적 지표

- **사용자 만족도**: 각 세션 종료 시 5점 척도 설문 (목표: 평균 4.0 이상)
- **피드백 품질**: 자유 의견 수집 및 분석 (개선 아이디어 도출)
- **스토리 몰입도**: "스토리가 흥미로웠나요?" 질문 (목표: 긍정 응답 70% 이상)

### 13.3 측정 도구

- **Supabase Analytics**: 사용자 행동 데이터 (로그인, 게임 진행, 완료)
- **Google Analytics 4**: 페이지뷰, 세션 시간, 이탈률
- **Sentry**: 에러 추적 및 성능 모니터링
- **Custom Logging**: AI API 호출 시간, 선택지 선택 패턴 등

### 13.4 성공 기준

**MVP 성공 조건**:
1. 10명의 베타 테스터 중 8명 이상이 게임을 완료
2. 평균 플레이 타임이 8~12분 범위 내
3. 사용자 만족도 평균 4.0/5.0 이상
4. 치명적 버그 없음 (게임 진행 불가 등)

**장기 성공 조건** (향후 6개월):
1. 월간 활성 사용자 100명 이상
2. 재플레이율 40% 이상 유지
3. AI 비용 월 $50 이하 (초기 목표)
4. 긍정적인 커뮤니티 피드백 (SNS, 리뷰)

---

## 부록

### A. 용어 정리

- **TRPG (Tabletop Role-Playing Game)**: 주사위와 규칙을 사용하여 진행하는 탁상 롤플레잉 게임
- **GM (Game Master)**: 게임 진행자, 스토리를 이끌고 규칙을 관리하는 역할
- **MVP (Minimum Viable Product)**: 최소 기능 제품, 핵심 기능만 구현한 초기 버전
- **LLM (Large Language Model)**: 대규모 언어 모델, AI 텍스트 생성 기술
- **RLS (Row Level Security)**: Supabase의 행 단위 보안 정책

### B. 참고 자료

- **Supabase 공식 문서**: https://supabase.com/docs
- **OpenAI API 문서**: https://platform.openai.com/docs
- **React 공식 문서**: https://react.dev
- **Tailwind CSS 문서**: https://tailwindcss.com/docs

### C. 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| v1.0 | 2026-01-29 | 초안 작성 | 개발팀 |

---

**문서 승인**

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 프로덕트 오너 | (서명 필요) | | |
| 기술 리드 | (서명 필요) | | |

---

**Note**: 본 PRD는 소규모 인디 프로젝트를 위한 것으로, 실제 개발 과정에서 유연하게 조정될 수 있습니다. 10분 완결 제약을 항상 염두에 두고 각 기능을 설계하며, AI 비용 관리를 위해 초기에는 제한된 사용자에게만 제공하는 것을 권장합니다. 저작권 문제를 피하기 위해 모든 콘텐츠는 독창적으로 제작하고, 필요시 법무 검토를 받으시기 바랍니다.
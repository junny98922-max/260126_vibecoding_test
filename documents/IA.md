# 정보 구조 설계서 (Information Architecture)
## Shadow Lord Slayer TRPG 게임

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| **문서 제목** | Shadow Lord Slayer TRPG - 정보 구조 설계서 |
| **서비스명 (한글)** | 볼드모트 죽이기 TRPG |
| **서비스명 (영문)** | Shadow Lord Slayer TRPG |
| **작성일** | 2026년 1월 29일 |
| **대상 독자** | 소규模 인디 개발팀 (프론트엔드 개발자, UX 디자이너) |
| **문서 버전** | v1.0 |

---

## 목차

1. [PRD 요약 및 IA 목적](#1-prd-요약-및-ia-목적)
2. [내비게이션 유형 및 인증 방식](#2-내비게이션-유형-및-인증-방식)
3. [사이트맵 및 페이지 계층 구조](#3-사이트맵-및-페이지-계층-구조)
4. [URL 구조 및 라우팅 전략](#4-url-구조-및-라우팅-전략)
5. [페이지별 상세 정보 구조](#5-페이지별-상세-정보-구조)
6. [콘텐츠 조직화 전략](#6-콘텐츠-조직화-전략)
7. [상호작용 패턴](#7-상호작용-패턴)
8. [컴포넌트 계층 구조](#8-컴포넌트-계층-구조)
9. [데스크톱 vs 모바일 레이아웃 전략](#9-데스크톱-vs-모바일-레이아웃-전략)
10. [내부/외부 링킹 전략](#10-내부외부-링킹-전략)
11. [접근성 및 사용성 고려사항](#11-접근성-및-사용성-고려사항)
12. [향후 확장 고려사항](#12-향후-확장-고려사항)

---

## 1. PRD 요약 및 IA 목적

### 1.1 서비스 개요

**Shadow Lord Slayer TRPG**는 AI 게임 마스터(GM)가 진행하는 텍스트 기반 1인용 롤플레잉 웹 게임입니다. 사용자는 마법 학교 세계관의 캐릭터를 선택하여 약 **10분 내외**로 완결되는 분기형 스토리를 경험하며, 최종적으로 어둠의 군주를 물리치는 것을 목표로 합니다.

### 1.2 IA 설계의 핵심 목표

- **단순하고 직관적인 네비게이션**: 복잡한 메뉴 구조 없이 핵심 게임 플로우에 집중
- **10분 완결 제약 반영**: 페이지 전환과 단계를 최소화하여 빠른 게임 진행 지원
- **데스크톱-모바일 대응**: 데스크톱 중심이지만 모바일에서도 원활한 플레이 가능
- **상태 지속성**: 언제든 중단/재개 가능한 저장/불러오기 흐름
- **AI 챗봇 중심 인터페이스**: 대화형 GM 경험을 위한 채팅 UI 최적화

### 1.3 주요 제약사항

| 제약사항 | IA에 미치는 영향 |
|----------|------------------|
| **10분 완결** | 최소 페이지 전환, 스테이지 진행을 단일 화면에서 처리 |
| **단일 사용자** | 복잡한 권한 관리 불필요, 심플한 인증 플로우 |
| **Supabase 기반** | RESTful 또는 실시간 구독 패턴 활용 가능 |
| **저작권 회피** | 오리지널 세계관 용어 사용 (예: "그림자 아카데미", "암흑의 군주") |

---

## 2. 내비게이션 유형 및 인증 방식

### 2.1 내비게이션 유형

**상단바(Topbar) + 콘텐츠 중심 레이아웃**

- **구조**: 
  - 상단에 고정된 헤더(로고, 사용자 메뉴)
  - 중앙 메인 콘텐츠 영역 (게임 화면, 대시보드 등)
  - 사이드 패널(캐릭터 스탯, 인벤토리) - 데스크톱에서 표시, 모바일에서는 접이식 또는 하단 시트
- **특징**:
  - 복잡한 다단계 네비게이션 없음
  - 게임 플레이 중에는 UI 요소를 최소화하여 몰입도 향상
  - 빠른 액션을 위한 플로팅 버튼 활용 (저장, 설정 등)

### 2.2 인증 방식

**Supabase 이메일/비밀번호 인증 + JWT 세션 관리**

| 인증 요소 | 세부사항 |
|-----------|----------|
| **주요 방식** | 이메일/비밀번호 |
| **세션 관리** | Supabase Auth JWT 토큰 (자동 갱신) |
| **소셜 로그인** | (선택적, 향후 확장) 구글, 카카오 |
| **비밀번호 재설정** | 이메일 기반 리셋 링크 |
| **보안** | HTTPS 필수, JWT 토큰은 httpOnly 쿠키 또는 로컬 스토리지 |

### 2.3 인증 상태별 접근 제어

```
미인증 사용자:
  ├─ 접근 가능: /, /login, /signup, /reset-password
  └─ 접근 불가: /app/* (자동으로 /login으로 리다이렉트)

인증된 사용자:
  ├─ 접근 가능: /app/hub, /app/game, /app/settings, /app/history
  └─ /login 접속 시 /app/hub로 자동 리다이렉트
```

---

## 3. 사이트맵 및 페이지 계층 구조

### 3.1 전체 사이트맵

```
/ (루트)
│
├─ /login (로그인)
├─ /signup (회원가입)
├─ /reset-password (비밀번호 재설정)
│
└─ /app (인증된 앱 영역)
    ├─ /app/hub (게임 허브 / 대시보드)
    ├─ /app/game (게임 플레이 화면)
    │   └─ /app/game/:sessionId (특정 세션, 선택적)
    ├─ /app/settings (설정)
    ├─ /app/history (플레이 기록 / 엔딩 컬렉션, 선택적)
    │
    └─ /app/admin (관리자, 향후 확장)
        ├─ /app/admin/characters (캐릭터 템플릿 관리)
        ├─ /app/admin/scenarios (시나리오 관리)
        └─ /app/admin/users (사용자 관리)
```

### 3.2 계층 구조 다이어그램

```
┌─────────────────────────────────────────────────┐
│ Level 0: 루트 (/)                                │
│ - 랜딩 페이지 (비인증 시) 또는 /app/hub 리다이렉트 │
└─────────────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────────────┐
│ Level 1: 인증 페이지                             │
│ - /login (로그인)                                │
│ - /signup (회원가입)                             │
│ - /reset-password (비밀번호 재설정)               │
└─────────────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────────────┐
│ Level 2: 앱 메인 영역 (/app)                     │
│ - /app/hub (게임 허브)                           │
│ - /app/game (게임 플레이)                        │
│ - /app/settings (설정)                           │
│ - /app/history (기록, 선택적)                    │
└─────────────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────────────┐
│ Level 3: 관리자 (향후, /app/admin)               │
│ - 캐릭터/시나리오/사용자 관리                     │
└─────────────────────────────────────────────────┘
```

### 3.3 주요 페이지 우선순위

| 우선순위 | 페이지 | 설명 |
|----------|--------|------|
| **P0 (필수)** | /login, /signup, /app/hub, /app/game | MVP 핵심 플로우 |
| **P1 (중요)** | /app/settings, /reset-password | 사용성 향상 |
| **P2 (추가)** | /app/history, / (랜딩) | 재참여 유도 |
| **P3 (향후)** | /app/admin/* | 운영 도구 |

---

## 4. URL 구조 및 라우팅 전략

### 4.1 URL 명명 규칙

| 원칙 | 설명 | 예시 |
|------|------|------|
| **소문자 + 하이픈** | URL은 모두 소문자, 단어 구분은 하이픈 | `/reset-password` |
| **명사형 경로** | 동사보다는 리소스 중심 | `/app/settings` (O), `/app/set-settings` (X) |
| **단수/복수 일관성** | 컬렉션은 복수, 단일 리소스는 단수 | `/app/admin/characters` (컬렉션) |
| **깊이 제한** | 최대 3단계까지 (가독성) | `/app/admin/characters` |

### 4.2 라우팅 패턴

#### 4.2.1 정적 라우트

```typescript
// React Router 예시
const routes = [
  { path: '/', element: <LandingPage /> },
  { path: '/login', element: <LoginPage /> },
  { path: '/signup', element: <SignupPage /> },
  { path: '/reset-password', element: <ResetPasswordPage /> },
  
  // Protected routes (인증 필요)
  {
    path: '/app',
    element: <AppShell />, // 공통 레이아웃 (헤더, 사이드바)
    children: [
      { path: 'hub', element: <GameHubPage /> },
      { path: 'game', element: <GamePlayPage /> },
      { path: 'settings', element: <SettingsPage /> },
      { path: 'history', element: <HistoryPage /> },
    ]
  }
];
```

#### 4.2.2 동적 라우트 (선택적)

```typescript
// 특정 게임 세션 직접 접근 (향후 공유 기능용)
{ path: '/app/game/:sessionId', element: <GamePlayPage /> }
```

### 4.3 리다이렉트 규칙

| 조건 | 현재 URL | 리다이렉트 대상 |
|------|----------|-----------------|
| 미인증 + 보호된 페이지 접근 | `/app/*` | `/login` |
| 인증됨 + 로그인 페이지 접근 | `/login` | `/app/hub` |
| 루트 접근 (미인증) | `/` | `/login` |
| 루트 접근 (인증됨) | `/` | `/app/hub` |
| 잘못된 URL | `/invalid` | `/app/hub` (또는 404 페이지) |

---

## 5. 페이지별 상세 정보 구조

### 5.1 루트 페이지 (/)

**목적**: 미인증 사용자를 로그인으로 안내하거나, 인증된 사용자를 게임 허브로 리다이렉트

| 항목 | 내용 |
|------|------|
| **URL** | `/` |
| **접근 권한** | 누구나 |
| **주요 동작** | 자동 리다이렉트 (인증 상태에 따라 `/login` 또는 `/app/hub`) |
| **콘텐츠** | (선택적) 간단한 게임 소개 + CTA 버튼 |

**레이아웃** (선택적 랜딩 페이지를 구현하는 경우):
```
┌─────────────────────────────────────┐
│ [로고] Shadow Lord Slayer            │
├─────────────────────────────────────┤
│                                     │
│   어둠의 군주를 물리치는 10분 모험    │
│   AI 게임 마스터와 함께하는 TRPG     │
│                                     │
│   [지금 시작하기] (→ /login)         │
│   [회원가입] (→ /signup)             │
│                                     │
└─────────────────────────────────────┘
```

---

### 5.2 로그인 페이지 (/login)

**목적**: 사용자 인증

| 항목 | 내용 |
|------|------|
| **URL** | `/login` |
| **접근 권한** | 누구나 (인증된 사용자는 자동 리다이렉트) |
| **주요 콘텐츠** | 이메일/비밀번호 입력 폼, 로그인 버튼 |
| **링크** | 회원가입 (`/signup`), 비밀번호 찾기 (`/reset-password`) |

**정보 구조**:
```
로그인 페이지
├─ 헤더
│  └─ 로고 (클릭 시 / 로 이동)
├─ 메인 콘텐츠
│  ├─ 제목: "로그인"
│  ├─ 이메일 입력 필드
│  ├─ 비밀번호 입력 필드
│  ├─ [로그인] 버튼
│  ├─ "비밀번호를 잊으셨나요?" 링크 (→ /reset-password)
│  └─ "계정이 없으신가요? 회원가입" 링크 (→ /signup)
└─ 푸터 (선택적)
   └─ 저작권 정보
```

**모바일 레이아웃**:
- 세로 스크롤 가능한 단일 컬럼
- 입력 필드 큰 터치 타겟 (최소 44x44px)

---

### 5.3 회원가입 페이지 (/signup)

**목적**: 신규 사용자 계정 생성

| 항목 | 내용 |
|------|------|
| **URL** | `/signup` |
| **접근 권한** | 누구나 |
| **주요 콘텐츠** | 이메일, 비밀번호, 비밀번호 확인 입력 |
| **검증** | 이메일 형식, 비밀번호 강도, 비밀번호 일치 확인 |

**정보 구조**:
```
회원가입 페이지
├─ 헤더
│  └─ 로고
├─ 메인 콘텐츠
│  ├─ 제목: "회원가입"
│  ├─ 이메일 입력 필드
│  ├─ 비밀번호 입력 필드 (최소 8자, 대소문자+숫자 조합 권장)
│  ├─ 비밀번호 확인 입력 필드
│  ├─ (선택적) 이용약관 동의 체크박스
│  ├─ [가입하기] 버튼
│  └─ "이미 계정이 있으신가요? 로그인" 링크 (→ /login)
└─ 푸터
```

---

### 5.4 비밀번호 재설정 페이지 (/reset-password)

**목적**: 비밀번호 분실 시 재설정

| 항목 | 내용 |
|------|------|
| **URL** | `/reset-password` |
| **접근 권한** | 누구나 |
| **주요 콘텐츠** | 이메일 입력 → 재설정 링크 발송 |
| **프로세스** | 1) 이메일 입력 → 2) Supabase에서 리셋 링크 발송 → 3) 이메일의 링크 클릭 → 4) 새 비밀번호 설정 |

**정보 구조**:
```
비밀번호 재설정 페이지
├─ 헤더
├─ 메인 콘텐츠
│  ├─ 제목: "비밀번호 재설정"
│  ├─ 설명: "가입하신 이메일 주소를 입력하세요"
│  ├─ 이메일 입력 필드
│  ├─ [재설정 링크 보내기] 버튼
│  └─ "로그인으로 돌아가기" 링크 (→ /login)
└─ 푸터
```

---

### 5.5 게임 허브 페이지 (/app/hub)

**목적**: 게임의 메인 대시보드, 새 게임 시작 또는 저장된 게임 이어하기

| 항목 | 내용 |
|------|------|
| **URL** | `/app/hub` |
| **접근 권한** | 인증된 사용자만 |
| **주요 콘텐츠** | 새 게임 시작, 이어하기, 플레이 기록, 설정 링크 |

**정보 구조**:
```
게임 허브 페이지
├─ 상단바 (Topbar)
│  ├─ 로고 (클릭 시 /app/hub)
│  └─ 사용자 메뉴 (드롭다운)
│     ├─ 프로필 (이메일 표시)
│     ├─ 설정 (→ /app/settings)
│     └─ 로그아웃
├─ 메인 콘텐츠 (중앙 정렬)
│  ├─ 환영 메시지: "안녕하세요, [사용자명]님!"
│  ├─ 게임 상태 카드
│  │  ├─ [새 게임 시작] 버튼 (큰 크기, 주요 CTA)
│  │  │  → 클릭 시: 캐릭터 선택 모달 표시 → 선택 후 /app/game으로 이동
│  │  └─ [이어하기] 버튼 (저장된 게임이 있을 경우만 표시)
│  │     → 클릭 시: 마지막 저장 지점부터 /app/game 진입
│  ├─ 플레이 통계 섹션 (선택적)
│  │  ├─ 총 플레이 횟수
│  │  ├─ 달성한 엔딩 수
│  │  └─ 최고 기록 (최단 시간, 최고 스탯 등)
│  └─ 빠른 링크
│     ├─ [플레이 기록 보기] (→ /app/history)
│     └─ [설정] (→ /app/settings)
└─ 푸터 (선택적)
```

**데스크톱 레이아웃**:
```
┌────────────────────────────────────────────┐
│ [로고]                    [사용자 메뉴 ▼]   │ ← Topbar
├────────────────────────────────────────────┤
│                                            │
│           환영합니다, 플레이어님!           │
│                                            │
│  ┌──────────────────────────────────────┐ │
│  │                                      │ │
│  │      [🎮 새 게임 시작]               │ │
│  │                                      │ │
│  │      [▶️ 이어하기]                    │ │
│  │                                      │ │
│  └──────────────────────────────────────┘ │
│                                            │
│  플레이 통계                                │
│  - 총 플레이: 5회                          │
│  - 엔딩 달성: 3개                          │
│                                            │
│  [📜 플레이 기록]  [⚙️ 설정]              │
│                                            │
└────────────────────────────────────────────┘
```

**모바일 레이아웃**:
- 상단바는 유지 (햄버거 메뉴로 사용자 옵션 제공 가능)
- 버튼은 세로로 스택
- 통계는 접이식 또는 별도 탭

---

### 5.6 게임 플레이 페이지 (/app/game)

**목적**: AI GM과의 대화형 게임 진행, 10분 완결 목표

| 항목 | 내용 |
|------|------|
| **URL** | `/app/game` 또는 `/app/game/:sessionId` |
| **접근 권한** | 인증된 사용자만 |
| **주요 콘텐츠** | AI GM 메시지, 선택지, 캐릭터 스탯, 인벤토리 |
| **상호작용** | 채팅 인터페이스 + 버튼 선택 (또는 텍스트 입력) |

**정보 구조**:
```
게임 플레이 페이지
├─ 상단바 (간소화)
│  ├─ 로고 (클릭 시 경고: "게임을 종료하시겠습니까?")
│  ├─ 진행 상태 표시: "스테이지 3/7"
│  └─ 빠른 액션
│     ├─ [저장] 아이콘 버튼
│     ├─ [설정] 아이콘 버튼
│     └─ [나가기] 아이콘 버튼 (경고 모달)
├─ 메인 게임 영역 (3단 레이아웃, 데스크톱 기준)
│  ├─ 왼쪽 사이드바 (캐릭터 정보, 25% 너비)
│  │  ├─ 캐릭터 아바타 (아이콘 또는 이미지)
│  │  ├─ 캐릭터 이름 및 타입
│  │  ├─ 스탯 바
│  │  │  ├─ HP: ████████░░ 80/100
│  │  │  ├─ MP: ██████░░░░ 60/100
│  │  │  ├─ 공격력: 15
│  │  │  ├─ 방어력: 12
│  │  │  ├─ 지능: 18
│  │  │  └─ 민첩: 10
│  │  └─ 특수 능력 표시
│  ├─ 중앙 채팅/로그 영역 (50% 너비)
│  │  ├─ 메시지 로그 (스크롤 가능)
│  │  │  ├─ [GM] "당신은 어두운 복도에 서 있습니다..."
│  │  │  ├─ [플레이어] "문을 연다" (선택 기록)
│  │  │  ├─ [GM] "문이 삐걱거리며 열립니다. 안에서..."
│  │  │  └─ ... (계속)
│  │  ├─ 현재 상황 메시지 (최신 GM 응답, 강조)
│  │  └─ 선택지 영역
│  │     ├─ [선택 1: 정면으로 돌진한다]
│  │     ├─ [선택 2: 조용히 숨어서 관찰한다]
│  │     ├─ [선택 3: 주문을 사용한다]
│  │     └─ (선택적) 자유 입력 텍스트 박스 + [입력] 버튼
│  └─ 오른쪽 사이드바 (인벤토리, 25% 너비)
│     ├─ 인벤토리 헤더: "소지품"
│     ├─ 아이템 목록 (스크롤 가능)
│     │  ├─ 🗡️ 마법 검 (공격력 +5)
│     │  ├─ 🧪 체력 물약 x2
│     │  ├─ 📜 고대의 두루마리
│     │  └─ ... (최대 10개)
│     └─ (선택적) 아이템 사용 버튼
└─ 하단 (선택적)
   └─ 진행률 바: ▓▓▓▓▓▓▓░░░ 70%
```

**데스크톱 레이아웃 다이어그램**:
```
┌─────────────────────────────────────────────────────────────┐
│ [로고]  스테이지 3/7  ▓▓▓▓░░░  [저장] [설정] [나가기]        │
├───────────┬──────────────────────────┬────────────────────────┤
│           │                          │                        │
│ 캐릭터    │   AI GM 메시지 로그       │   인벤토리             │
│ 정보      │   ─────────────────      │   ──────────           │
│           │   [GM] 복도가...          │   🗡️ 마법 검          │
│ 아바타    │   [나] 문을 연다          │   🧪 체력 물약 x2     │
│           │   [GM] 문이 열리며...     │   📜 고대 두루마리     │
│ HP ████   │                          │   ...                  │
│ MP ████   │   ─────────────────      │                        │
│           │   현재 상황:              │                        │
│ 공격: 15  │   "적이 나타났습니다!"     │                        │
│ 방어: 12  │                          │                        │
│           │   [선택 1: 공격한다]      │                        │
│           │   [선택 2: 방어한다]      │                        │
│           │   [선택 3: 도망친다]      │                        │
│           │                          │                        │
│ (25%)     │        (50%)             │      (25%)             │
└───────────┴──────────────────────────┴────────────────────────┘
```

**모바일 레이아웃**:
```
┌──────────────────────────────┐
│ [☰] 스테이지 3/7  [💾] [⚙️]  │ ← 상단바
├──────────────────────────────┤
│                              │
│  AI GM 메시지 로그            │
│  ────────────────            │
│  [GM] "복도가..."             │
│  [나] "문을 연다"             │
│  [GM] "적이 나타났습니다!"    │
│                              │
│  [선택 1: 공격한다]           │
│  [선택 2: 방어한다]           │
│  [선택 3: 도망친다]           │
│                              │
├──────────────────────────────┤
│ [캐릭터 정보 ▼] (접이식)      │ ← 하단 시트 (탭 전환)
│ HP: ████ 80/100              │
│ MP: ███ 60/100               │
│ [인벤토리 보기] [스탯 상세]   │
└──────────────────────────────┘
```

**모바일 상호작용**:
- **사이드바를 하단 시트로 전환**: 탭을 통해 "캐릭터 정보"와 "인벤토리" 전환
- **스와이프 제스처**: 위로 스와이프하여 하단 시트 확장
- **중앙 영역 최대화**: 메시지 로그와 선택지에 집중

---

### 5.7 설정 페이지 (/app/settings)

**목적**: 사용자 환경 설정 및 계정 관리

| 항목 | 내용 |
|------|------|
| **URL** | `/app/settings` |
| **접근 권한** | 인증된 사용자만 |
| **주요 콘텐츠** | 텍스트 크기, 테마, AI 스타일, 계정 정보, 로그아웃 |

**정보 구조**:
```
설정 페이지
├─ 상단바
├─ 메인 콘텐츠
│  ├─ 제목: "설정"
│  ├─ 섹션 1: 게임 설정
│  │  ├─ 텍스트 크기 (작게 / 보통 / 크게)
│  │  ├─ 테마 (라이트 / 다크)
│  │  └─ AI GM 스타일 (간결 / 상세 / 극적)
│  ├─ 섹션 2: 계정 설정
│  │  ├─ 이메일 표시 (읽기 전용)
│  │  ├─ 비밀번호 변경 (→ 모달 또는 별도 페이지)
│  │  └─ 계정 삭제 (확인 경고)
│  ├─ 섹션 3: 기타
│  │  ├─ 버전 정보
│  │  ├─ 이용약관
│  │  ├─ 개인정보 처리방침
│  │  └─ 문의하기 (이메일 링크)
│  └─ [저장] 버튼
└─ 푸터
```

---

### 5.8 플레이 기록 페이지 (/app/history)

**목적**: 과거 플레이 세션 및 달성한 엔딩 확인

| 항목 | 내용 |
|------|------|
| **URL** | `/app/history` |
| **접근 권한** | 인증된 사용자만 |
| **주요 콘텐츠** | 플레이 세션 목록, 엔딩 컬렉션, 통계 |

**정보 구조**:
```
플레이 기록 페이지
├─ 상단바
├─ 메인 콘텐츠
│  ├─ 제목: "플레이 기록"
│  ├─ 탭 네비게이션
│  │  ├─ [세션 기록] (기본 활성)
│  │  └─ [엔딩 컬렉션]
│  ├─ 세션 기록 탭
│  │  └─ 세션 카드 목록 (최신순)
│  │     ├─ 세션 1
│  │     │  ├─ 캐릭터: 용감한 전사
│  │     │  ├─ 시작 시간: 2026-01-28 14:30
│  │     │  ├─ 플레이 타임: 9분 23초
│  │     │  ├─ 결과: 승리 엔딩
│  │     │  └─ [상세 보기] (→ 로그 모달)
│  │     ├─ 세션 2
│  │     └─ ...
│  └─ 엔딩 컬렉션 탭
│     ├─ 달성한 엔딩: 3/5
│     ├─ 엔딩 카드 (잠금 해제된 것만 표시)
│     │  ├─ 🏆 영웅의 승리
│     │  ├─ 💀 어둠에 삼켜짐
│     │  ├─ ✨ 특수 엔딩: 평화의 길
│     │  ├─ 🔒 미해금 엔딩 (힌트 표시)
│     │  └─ 🔒 미해금 엔딩
│     └─ 엔딩별 설명 및 일러스트
└─ 푸터
```

---

### 5.9 관리자 영역 (/app/admin/*, 향후 확장)

**목적**: 게임 콘텐츠 및 사용자 관리 (운영자 전용)

| 항목 | 내용 |
|------|------|
| **URL** | `/app/admin/*` |
| **접근 권한** | 관리자 역할만 (role: 'admin') |
| **주요 기능** | 캐릭터 템플릿 관리, 시나리오 편집, 사용자 목록 |

**정보 구조** (간략):
```
관리자 대시보드 (/app/admin)
├─ 사이드 네비게이션
│  ├─ 대시보드 (요약 통계)
│  ├─ 캐릭터 관리 (→ /app/admin/characters)
│  ├─ 시나리오 관리 (→ /app/admin/scenarios)
│  └─ 사용자 관리 (→ /app/admin/users)
└─ 메인 콘텐츠 (각 하위 페이지)
```

**우선순위**: P3 (향후 확장), 초기 버전에서는 구현하지 않음

---

## 6. 콘텐츠 조직화 전략

### 6.1 콘텐츠 그룹화 원칙

| 그룹 | 페이지 | 조직화 기준 |
|------|--------|-------------|
| **인증** | /login, /signup, /reset-password | 사용자 인증 관련 작업 |
| **게임 플레이** | /app/hub, /app/game | 핵심 게임 경험 |
| **사용자 관리** | /app/settings, /app/history | 개인화 및 기록 관리 |
| **관리** | /app/admin/* | 운영자 도구 (향후) |

### 6.2 콘텐츠 우선순위 매트릭스

| 콘텐츠 | 사용 빈도 | 중요도 | 배치 위치 |
|--------|-----------|--------|-----------|
| 새 게임 시작 | 높음 | 높음 | /app/hub 중앙, 큰 버튼 |
| 이어하기 | 높음 | 높음 | /app/hub 중앙, 명확한 버튼 |
| 캐릭터 스탯 | 높음 | 중간 | /app/game 왼쪽 사이드바 (항상 표시) |
| 인벤토리 | 중간 | 중간 | /app/game 오른쪽 사이드바 |
| 설정 | 낮음 | 낮음 | 상단바 메뉴 내 |
| 플레이 기록 | 낮음 | 낮음 | /app/hub 하단 링크 |

### 6.3 정보 계층 구조

```
Level 1: 핵심 게임 플로우
  └─ 로그인 → 게임 허브 → 캐릭터 선택 → 게임 플레이 → 엔딩

Level 2: 지원 기능
  └─ 설정, 저장/불러오기, 중단/재개

Level 3: 부가 콘텐츠
  └─ 플레이 기록, 엔딩 컬렉션, 통계

Level 4: 관리 (운영자)
  └─ 캐릭터/시나리오/사용자 관리
```

---

## 7. 상호작용 패턴

### 7.1 핵심 상호작용 플로우

#### 7.1.1 신규 사용자 플로우

```
1. 웹사이트 접속 (/)
   ↓
2. 자동으로 /login 리다이렉트
   ↓
3. [회원가입] 클릭 → /signup
   ↓
4. 이메일/비밀번호 입력 → [가입하기] 클릭
   ↓
5. Supabase Auth 계정 생성 → 자동 로그인
   ↓
6. /app/hub로 리다이렉트
   ↓
7. [새 게임 시작] 클릭
   ↓
8. 캐릭터 선택 모달 표시
   ├─ 4개 캐릭터 중 선택
   └─ [시작하기] 클릭
   ↓
9. /app/game으로 이동, 게임 세션 생성
   ↓
10. AI GM 오프닝 메시지 자동 표시
    ↓
11. 게임 진행 (스테이지 1 → 7)
    └─ 각 스테이지: GM 메시지 → 선택지 제시 → 사용자 선택 → 결과 반영 → 다음 스테이지
    ↓
12. 최종 스테이지 완료 → 엔딩 화면
    ↓
13. [다시 하기] 또는 [로비로 돌아가기] 선택
```

#### 7.1.2 재방문 사용자 플로우

```
1. 웹사이트 접속 (/)
   ↓
2. JWT 토큰 자동 인증 → /app/hub 리다이렉트
   ↓
3. 저장된 게임 확인
   ├─ 있을 경우: [이어하기] 버튼 활성화
   └─ 없을 경우: [새 게임 시작]만 표시
   ↓
4a. [이어하기] 클릭
    └─ 마지막 저장 지점 불러오기 → /app/game 진입
    ↓
4b. [새 게임 시작] 클릭
    └─ 캐릭터 선택 → /app/game 진입 (새 세션)
    ↓
5. 게임 진행
```

### 7.2 AI GM 상호작용 패턴

#### 패턴 1: 선택지 기반 (기본)

```
[AI GM] 상황 묘사 (200~300자)
   ↓
[시스템] 2~3개 선택지 버튼 표시
   ↓
[사용자] 버튼 클릭
   ↓
[시스템] 선택 결과 처리 (스탯, 인벤토리, 플래그 업데이트)
   ↓
[AI GM] 다음 상황 묘사
   (반복)
```

#### 패턴 2: 자유 입력 (고급, 선택적)

```
[AI GM] 상황 묘사
   ↓
[사용자] 텍스트 입력창에 자유 행동 입력
   ↓
[시스템] OpenAI API에 입력 전송 + 현재 게임 상태 포함
   ↓
[AI GM] 자연어 처리 → 적절한 결과 생성
   ↓
[시스템] 결과 반영 및 다음 상황 표시
```

### 7.3 저장/불러오기 상호작용

#### 자동 저장

```
[스테이지 완료]
   ↓
[시스템] Supabase에 현재 상태 자동 저장
   - session_id
   - current_stage
   - stats (JSON)
   - inventory (JSON)
   - story_flags (JSON)
   ↓
[UI] 저장 완료 토스트 메시지 (선택적)
```

#### 수동 저장

```
[사용자] 상단바 [저장] 버튼 클릭
   ↓
[시스템] 현재 상태를 Supabase에 저장
   ↓
[UI] "게임이 저장되었습니다" 확인 메시지
```

#### 불러오기

```
[사용자] /app/hub에서 [이어하기] 클릭
   ↓
[시스템] Supabase에서 마지막 세션 조회
   ↓
[시스템] 게임 상태 복원 (스탯, 인벤토리, 스테이지)
   ↓
[UI] /app/game으로 이동, 저장된 시점부터 재개
```

### 7.4 모달 및 오버레이 패턴

| 모달 유형 | 트리거 | 내용 | 액션 |
|-----------|--------|------|------|
| **캐릭터 선택** | /app/hub에서 [새 게임 시작] | 4개 캐릭터 카드 | [선택] → 게임 시작 |
| **게임 종료 확인** | /app/game에서 [나가기] | "게임을 종료하시겠습니까? 진행 상황이 저장됩니다" | [저장 후 나가기] / [취소] |
| **설정 변경** | 상단바 [설정] (또는 /app/settings) | 텍스트 크기, 테마 등 | [저장] / [취소] |
| **엔딩 화면** | 최종 스테이지 완료 | 엔딩 타입, 통계, 메시지 | [다시 하기] / [로비로] |
| **아이템 사용 확인** | 인벤토리에서 아이템 클릭 | "이 아이템을 사용하시겠습니까?" | [사용] / [취소] |

---

## 8. 컴포넌트 계층 구조

### 8.1 공통 컴포넌트

```
App (Root)
├─ Router
│  ├─ PublicRoute (미인증 전용)
│  │  ├─ LandingPage
│  │  ├─ LoginPage
│  │  ├─ SignupPage
│  │  └─ ResetPasswordPage
│  └─ ProtectedRoute (인증 필요)
│     └─ AppShell
│        ├─ Topbar
│        │  ├─ Logo
│        │  └─ UserMenu
│        ├─ MainContent (페이지별 콘텐츠)
│        └─ Footer (선택적)
└─ GlobalModals (전역 모달 관리)
   ├─ CharacterSelectionModal
   ├─ ConfirmationModal
   └─ SettingsModal
```

### 8.2 Topbar 컴포넌트 구조

```
Topbar
├─ Logo (클릭 시 /app/hub)
├─ ProgressIndicator (게임 플레이 중에만 표시)
│  └─ "스테이지 3/7" + 진행률 바
├─ QuickActions (게임 플레이 중)
│  ├─ SaveButton (아이콘)
│  ├─ SettingsButton (아이콘)
│  └─ ExitButton (아이콘)
└─ UserMenu (드롭다운)
   ├─ UserProfile (이메일 표시)
   ├─ SettingsLink (→ /app/settings)
   └─ LogoutButton
```

### 8.3 게임 플레이 화면 컴포넌트 구조

```
GamePlayPage
├─ Topbar (상위 컴포넌트)
├─ GameLayout (3-column)
│  ├─ LeftSidebar (캐릭터 정보, 데스크톱)
│  │  ├─ CharacterAvatar
│  │  ├─ CharacterName
│  │  ├─ StatsPanel
│  │  │  ├─ StatBar (HP)
│  │  │  ├─ StatBar (MP)
│  │  │  ├─ StatValue (공격력)
│  │  │  ├─ StatValue (방어력)
│  │  │  ├─ StatValue (지능)
│  │  │  └─ StatValue (민첩)
│  │  └─ SpecialAbility
│  ├─ CenterPanel (채팅/로그)
│  │  ├─ MessageLog (스크롤 영역)
│  │  │  └─ Message[] (GM 메시지, 사용자 선택)
│  │  ├─ CurrentSituation (최신 GM 메시지, 강조)
│  │  └─ ChoicePanel
│  │     ├─ ChoiceButton[] (2~3개)
│  │     └─ FreeTextInput (선택적)
│  └─ RightSidebar (인벤토리, 데스크톱)
│     ├─ InventoryHeader
│     └─ ItemList
│        └─ ItemCard[] (아이콘, 이름, 설명, 사용 버튼)
└─ BottomSheet (모바일)
   ├─ TabNavigation
   │  ├─ Tab: 캐릭터 정보
   │  └─ Tab: 인벤토리
   └─ TabContent
```

### 8.4 재사용 가능한 UI 컴포넌트

| 컴포넌트명 | 용도 | 사용 위치 |
|-----------|------|-----------|
| **Button** | 공통 버튼 | 모든 페이지 |
| **Input** | 텍스트 입력 | 로그인, 회원가입, 게임 입력 |
| **Modal** | 모달 다이얼로그 | 캐릭터 선택, 확인 메시지 |
| **Card** | 콘텐츠 카드 | 게임 허브, 플레이 기록 |
| **StatBar** | 스탯 게이지 바 | 캐릭터 정보 |
| **ProgressBar** | 진행률 표시 | 게임 플레이 상단 |
| **Dropdown** | 드롭다운 메뉴 | 사용자 메뉴, 설정 |
| **Toast** | 알림 메시지 | 저장 완료, 에러 메시지 |
| **Tabs** | 탭 네비게이션 | 플레이 기록, 모바일 하단 시트 |

---

## 9. 데스크톱 vs 모바일 레이아웃 전략

### 9.1 반응형 브레이크포인트

| 브레이크포인트 | 화면 크기 | 레이아웃 전략 |
|----------------|-----------|---------------|
| **Mobile** | < 768px | 단일 컬럼, 접이식 사이드바, 하단 시트 |
| **Tablet** | 768px ~ 1024px | 2-column 레이아웃, 일부 사이드바 유지 |
| **Desktop** | > 1024px | 3-column 레이아웃, 모든 패널 표시 |

### 9.2 페이지별 레이아웃 차이

#### 9.2.1 게임 허브 (/app/hub)

**데스크톱**:
- 중앙 정렬된 큰 버튼 (새 게임, 이어하기)
- 하단에 플레이 통계 및 빠른 링크

**모바일**:
- 버튼을 세로로 스택
- 통계는 접이식 아코디언 또는 별도 스크롤 섹션

#### 9.2.2 게임 플레이 (/app/game)

**데스크톱** (3-column):
```
┌───────┬──────────┬───────┐
│ 캐릭터│  채팅/로그 │ 인벤토리│
│ 정보  │  + 선택지  │       │
└───────┴──────────┴───────┘
```

**모바일** (single column + bottom sheet):
```
┌────────────────┐
│ 채팅/로그 + 선택지│ ← 주요 콘텐츠
│                │
│                │
├────────────────┤
│ [캐릭터] [인벤토리] │ ← 하단 시트 (탭)
└────────────────┘
```

**모바일 최적화**:
- 왼쪽/오른쪽 사이드바를 하단 시트로 통합
- 탭을 통해 "캐릭터 정보"와 "인벤토리" 전환
- 채팅 영역을 전체 높이의 70%로 확대
- 선택지 버튼을 터치 친화적으로 크게 조정 (최소 48x48px)

#### 9.2.3 설정 (/app/settings)

**데스크톱**:
- 중앙 정렬된 폼 (최대 너비 600px)
- 섹션별 카드 레이아웃

**모바일**:
- 전체 너비 사용
- 섹션 간 충분한 간격
- 드롭다운을 네이티브 선택기로 변경 (UX 향상)

### 9.3 모바일 전용 UI 패턴

| 패턴 | 설명 | 적용 위치 |
|------|------|-----------|
| **하단 시트 (Bottom Sheet)** | 아래에서 올라오는 패널, 스와이프로 확장/축소 | /app/game의 캐릭터/인벤토리 |
| **햄버거 메뉴** | 상단바의 사용자 메뉴를 햄버거 아이콘으로 | Topbar |
| **플로팅 액션 버튼 (FAB)** | 화면 하단 우측에 고정된 주요 액션 버튼 | 저장, 설정 (선택적) |
| **스와이프 제스처** | 좌우 스와이프로 인벤토리 아이템 관리 | 인벤토리 목록 |
| **풀스크린 모달** | 모바일에서 모달을 전체 화면으로 표시 | 캐릭터 선택 |

---

## 10. 내부/외부 링킹 전략

### 10.1 내부 링크

#### 10.1.1 네비게이션 링크

| 출발 페이지 | 링크 | 대상 페이지 | 링크 유형 |
|-------------|------|-------------|-----------|
| /login | "회원가입" | /signup | 텍스트 링크 |
| /login | "비밀번호 찾기" | /reset-password | 텍스트 링크 |
| /signup | "로그인" | /login | 텍스트 링크 |
| /app/hub | "새 게임 시작" | /app/game (모달 경유) | 버튼 |
| /app/hub | "이어하기" | /app/game | 버튼 |
| /app/hub | "플레이 기록" | /app/history | 텍스트 링크 |
| /app/hub | "설정" | /app/settings | 텍스트 링크 |
| /app/game | "저장" | (현재 페이지 유지) | 버튼 (AJAX) |
| /app/game | "나가기" | /app/hub (모달 확인 후) | 버튼 |
| Topbar | 로고 | /app/hub | 이미지 링크 |
| Topbar | "설정" | /app/settings | 드롭다운 메뉴 |
| Topbar | "로그아웃" | /login (세션 종료) | 드롭다운 메뉴 |

#### 10.1.2 딥링크 전략

- **게임 세션 공유 (향후 기능)**:
  - URL: `/app/game/:sessionId`
  - 용도: 특정 세션을 북마크하거나 공유 (읽기 전용 또는 복사)
  - 예: `/app/game/abc123xyz`

- **엔딩 공유 (향후 기능)**:
  - URL: `/app/history/ending/:endingId`
  - 용도: 달성한 엔딩을 SNS에 공유

### 10.2 외부 링크

| 위치 | 링크 텍스트 | 대상 URL | 목적 |
|------|-------------|----------|------|
| /app/settings | "이용약관" | /terms (또는 외부 문서) | 법률 정보 |
| /app/settings | "개인정보 처리방침" | /privacy (또는 외부 문서) | 법률 정보 |
| /app/settings | "문의하기" | mailto:support@example.com | 고객 지원 |
| Footer | "GitHub" | https://github.com/yourrepo | 오픈소스 저장소 (선택적) |

### 10.3 링크 접근성

- **키보드 네비게이션**: 모든 링크는 Tab 키로 이동 가능
- **포커스 스타일**: 포커스된 링크는 명확한 아웃라인 표시
- **`aria-label` 사용**: 아이콘 버튼은 스크린 리더용 레이블 포함
  - 예: `<button aria-label="게임 저장">💾</button>`

---

## 11. 접근성 및 사용성 고려사항

### 11.1 웹 접근성 (WCAG 2.1 AA 준수 목표)

| 지침 | 구현 방안 |
|------|-----------|
| **키보드 접근성** | 모든 인터랙티브 요소를 Tab/Enter/Space로 조작 가능 |
| **색상 대비** | 텍스트와 배경 대비율 4.5:1 이상 유지 |
| **대체 텍스트** | 모든 이미지에 `alt` 속성 제공 |
| **폼 레이블** | 모든 입력 필드에 명확한 `<label>` 연결 |
| **포커스 표시** | 포커스된 요소는 명확한 시각적 표시 (아웃라인) |
| **스크린 리더 지원** | ARIA 속성 활용 (role, aria-label, aria-live 등) |
| **반응형 텍스트** | 텍스트 크기 조정 옵션 제공 (설정에서) |

### 11.2 사용성 원칙

#### 11.2.1 일관성

- **버튼 스타일 통일**: 주요 액션(파란색), 보조 액션(회색), 위험 액션(빨간색)
- **용어 일관성**: "새 게임 시작"과 "게임 시작"을 혼용하지 않음
- **레이아웃 일관성**: 모든 페이지의 상단바는 동일한 위치와 디자인 유지

#### 11.2.2 피드백

- **로딩 인디케이터**: AI 응답 대기 중 스피너 또는 애니메이션 표시
- **저장 확인**: "게임이 저장되었습니다" 토스트 메시지
- **에러 메시지**: 실패 시 명확한 원인과 해결 방법 제시
  - 예: "네트워크 오류. 인터넷 연결을 확인하세요."

#### 11.2.3 오류 방지

- **확인 모달**: 중요한 액션(게임 종료, 계정 삭제) 전 확인 요청
- **자동 저장**: 사용자가 수동 저장을 잊어도 진행 상황 보호
- **입력 검증**: 실시간 폼 검증으로 제출 전 오류 발견

### 11.3 성능 최적화

| 최적화 항목 | 방법 |
|-------------|------|
| **초기 로딩** | 코드 스플리팅 (React.lazy), 중요 CSS 우선 로드 |
| **이미지 최적화** | WebP 포맷, lazy loading, 반응형 이미지 |
| **AI 응답 캐싱** | 동일한 선택지 재사용 시 캐시된 응답 사용 |
| **데이터베이스 쿼리** | Supabase RLS로 필요한 데이터만 조회, 인덱싱 |
| **번들 크기 감소** | Tree shaking, 불필요한 라이브러리 제거 |

---

## 12. 향후 확장 고려사항

### 12.1 기능 확장 로드맵

| 단계 | 기능 | IA 영향 |
|------|------|---------|
| **Phase 1 (MVP)** | 핵심 게임 플로우 | 현재 IA 문서 범위 |
| **Phase 2** | 업적 시스템, 리더보드 | 새 페이지: `/app/achievements`, `/app/leaderboard` |
| **Phase 3** | 소셜 기능 (공유, 추천) | 외부 링크 추가, OG 메타 태그 |
| **Phase 4** | 다국어 지원 | URL 구조 변경: `/ko/app/hub`, `/en/app/hub` |
| **Phase 5** | 모바일 앱 (PWA) | 오프라인 지원, 앱 설치 프롬프트 |

### 12.2 IA 확장 시 고려사항

#### 12.2.1 URL 구조 확장

- **다국어**: `/[lang]/app/...` 형태로 언어 코드 추가
- **버전 관리**: `/v2/app/...` (API 버전이 다를 경우)
- **캠페인 추적**: UTM 파라미터 지원 (`?utm_source=...`)

#### 12.2.2 네비게이션 확장

- **하단 네비게이션 바 (모바일)**: 주요 페이지 4~5개 빠른 접근
  - 홈, 게임, 기록, 설정
- **사이드바 네비게이션 (관리자)**: 관리 기능 추가 시 왼쪽 사이드바

#### 12.2.3 콘텐츠 확장

- **다중 스토리 라인**: `/app/game/:storyId` (메인, 사이드 퀘스트)
- **커뮤니티 섹션**: `/app/community` (포럼, 팬아트)

---

## 부록

### A. 용어 정리

| 용어 | 정의 |
|------|------|
| **IA (Information Architecture)** | 정보 구조, 웹사이트의 콘텐츠 조직화 및 네비게이션 체계 |
| **SPA (Single Page Application)** | 단일 페이지 애플리케이션, 페이지 새로고침 없이 동적으로 콘텐츠 변경 |
| **RLS (Row Level Security)** | Supabase의 행 단위 보안 정책 |
| **JWT (JSON Web Token)** | 인증 토큰 형식 |
| **PWA (Progressive Web App)** | 웹 기술로 만든 앱과 유사한 경험 제공 |

### B. 참고 사이트맵 (시각적 다이어그램)

```
                        [루트 /]
                           ↓
        ┌──────────────────┼──────────────────┐
        ↓                  ↓                  ↓
    [/login]          [/signup]     [/reset-password]
        ↓                  ↓                  ↓
        └──────────────────┴──────────────────┘
                           ↓
                     [/app (인증됨)]
                           ↓
        ┌──────────────────┼──────────────────┬──────────┐
        ↓                  ↓                  ↓          ↓
   [/app/hub]        [/app/game]      [/app/settings] [/app/history]
                           ↓
                    (게임 플레이)
                           ↓
                      [엔딩 화면]
                           ↓
                    [다시 하기 / 로비]
```

### C. 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| v1.0 | 2026-01-29 | 초안 작성 | 개발팀 |

---

**문서 승인**

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 프로덕트 오너 | (서명 필요) | | |
| UX 리드 | (서명 필요) | | |
| 기술 리드 | (서명 필요) | | |

---

**Note**: 본 IA 문서는 Shadow Lord Slayer TRPG 웹 게임의 프론트엔드 구조를 정의합니다. 10분 완결 제약을 반영하여 최소한의 페이지 전환과 단순한 네비게이션을 유지하며, 데스크톱과 모바일 모두에서 원활한 사용자 경험을 제공하는 것을 목표로 합니다. 실제 구현 시 사용자 테스트를 통해 IA를 지속적으로 개선하시기 바랍니다.